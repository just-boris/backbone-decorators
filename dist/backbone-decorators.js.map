{"version":3,"sources":["backbone-decorators.js","src/backbone-decorators.js"],"names":[],"mappings":"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","file":"backbone-decorators.js","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('underscore'), require('backbone')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'underscore', 'backbone'], factory) :\n    factory((global.Decorators = {}), global._, global.Backbone)\n}(this, function (exports, _, Backbone) { 'use strict';\n\n    _ = ('default' in _ ? _['default'] : _);\n    Backbone = ('default' in Backbone ? Backbone['default'] : Backbone);\n\n    /* Ideally we'd want to just pass these exports through directly\n     * but Babel complains about nesting exports, so we attach them\n     * to a namespace\n     */\n\n    // Backbone Decorators\n\n    // Views\n\n    function on(eventName) {\n        return function(target, name, descriptor) {\n            if (target.events && !_.has(target, 'events')) {\n                target.events = _.clone(target.events)\n            }\n            if (!target.events) {\n                target.events = {};\n            }\n            if (_.isFunction(target.events)) {\n                throw new Error('The on decorator is not compatible with an events method');\n                return;\n            }\n            if (!eventName) {\n                throw new Error('The on decorator requires an eventName argument');\n            }\n            target.events[eventName] = name;\n            return descriptor;\n        };\n    }\n\n    function tagName(value) {\n        return function decorator(target) {\n            target.prototype.tagName = value;\n        };\n    }\n\n    //Collections\n\n    function model(modelClass) {\n        return function decorator(target) {\n            if (modelClass.prototype instanceof Backbone.Model) {\n                target.prototype.model = modelClass;\n            } else {\n                throw new Error('The model decorator takes either a single argument that should be an instance of Backbone.Model');\n            }\n        };\n    }\n\n    function comparator(comparatorString) {\n        return function decorator(target) {\n            if (_.isString(comparatorString)) {\n                target.prototype.comparator = comparatorString;\n            } else {\n                throw new Error('The comparator decorator takes either a single argument that should be a string');\n            }\n        };\n    }\n\n    //Models\n\n    function defaults(...args) {\n        return function decorator(target) {\n            let defaults = target.prototype.defaults || {};\n            let [key, value] = args;\n            if (_.isObject(key)) {\n                _.extend(defaults, key);\n            } else if (_.isString(key) && !_.isUndefined(value)) {\n                defaults[key] = value;\n            } else {\n                throw new Error('The defaults decorator takes either a single object as an argument or a key and value');\n            }\n            target.prototype.defaults = defaults;\n        };\n    }\n\n    //Router\n\n    function route(routeName) {\n        return function(target, name, descriptor) {\n            if (!target.routes) {\n                target.routes = {};\n            }\n            if (_.isFunction(target.routes)) {\n                throw new Error('The route decorator is not compatible with a route method');\n                return;\n            }\n            if (!routeName) {\n                throw new Error('The route decorator requires an route string argument');\n            }\n            target.routes[routeName] = name;\n            return descriptor;\n        };\n    }\n\n    // Marionette Decorators\n\n    // Views\n\n    function onModel(eventName) {\n        return function(target, name, descriptor) {\n            if (!target.modelEvents) {\n                target.modelEvents = {};\n            }\n            if (_.isFunction(target.modelEvents)) {\n                throw new Error('The onModel decorator is not compatible with a modelEvents method');\n                return;\n            }\n            if (!eventName) {\n                throw new Error('The onModel decorator requires an eventName argument');\n            }\n            target.modelEvents[eventName] = name;\n            return descriptor;\n        };\n    }\n\n    function onCollection(eventName) {\n        return function(target, name, descriptor) {\n            if (!target.collectionEvents) {\n                target.collectionEvents = {};\n            }\n            if (_.isFunction(target.collectionEvents)) {\n                throw new Error('The onCollection decorator is not compatible with a collectionEvents method');\n                return;\n            }\n            if (!eventName) {\n                throw new Error('The onCollection decorator requires an eventName argument');\n            }\n            target.collectionEvents[eventName] = name;\n            return descriptor;\n        };\n    }\n\n    function template(value) {\n        return function decorator(target) {\n            target.prototype.template = value;\n        };\n    }\n\n    function childView(value) {\n        return function decorator(target) {\n            target.prototype.childView = value;\n        };\n    }\n\n    function childViewContainer(value) {\n        return function decorator(target) {\n            target.prototype.childViewContainer = value;\n        };\n    }\n\n    function ui(...args) {\n        return function decorator(target) {\n            let ui = target.prototype.ui || {};\n            let [key, value] = args;\n            if (_.isObject(key)) {\n                _.extend(ui, args[0]);\n            } else if (_.isString(key) && _.isString(value)) {\n                ui[key] = value;\n            } else {\n                throw new Error('The ui decorator takes either a single object as an argument or a key and value string');\n            }\n            target.prototype.ui = ui;\n        };\n    }\n\n    // Utility Decorators\n\n    function useSuper(target, name, descriptor) {\n        let superMethod = Object.getPrototypeOf(target)[name];\n        if (_.isFunction(superMethod)) {\n            descriptor.value = function(...args) {\n                superMethod.apply(this, args);\n            };\n        } else {\n            throw new Error('The useSuper method requires the parent class to implement this function somewhere on its prototype chain');\n        }\n        return descriptor;\n    }\n\n    //Backbone.LocalStorage Decorators\n\n    function localStorage(storageKey) {\n        return function decorator(target) {\n            if (Backbone.LocalStorage) {\n                if (_.isString(storageKey)) {\n                    target.prototype.localStorage = new Backbone.LocalStorage(storageKey);\n                } else {\n                    throw new Error('The localStorage decorator requires a single string argument which will serve as the localStorage key');\n                }\n            } else {\n                throw new Error('The localStorage decorator requires Backbone.LocalStorage to have been loaded before use');\n            }\n        };\n    }\n\n    //Marionette-service Decorators\n\n    function replyRadio(channel, requestString) {\n        return function(target, name, descriptor) {\n            if (!target.radioRequests) {\n                target.radioRequests = {};\n            }\n            if (_.isFunction(target.radioRequests)) {\n                throw new Error('The replyRadio decorator is not compatible with a radioRequests method');\n                return;\n            }\n            if (!_.isString(channel) || !_.isString(requestString)) {\n                throw new Error('The replyRadio decorator requires 2 arguments, a channel and a request string.');\n            }\n            target.radioRequests[channel + ' ' + requestString] = name;\n            return descriptor;\n        };\n    }\n\n    exports.on = on;\n    exports.tagName = tagName;\n    exports.model = model;\n    exports.comparator = comparator;\n    exports.defaults = defaults;\n    exports.route = route;\n    exports.onModel = onModel;\n    exports.onCollection = onCollection;\n    exports.template = template;\n    exports.childView = childView;\n    exports.childViewContainer = childViewContainer;\n    exports.ui = ui;\n    exports.useSuper = useSuper;\n    exports.localStorage = localStorage;\n    exports.replyRadio = replyRadio;\n\n}));\n","import _ from 'underscore';\nimport Backbone from 'backbone';\n\n/* Ideally we'd want to just pass these exports through directly\n * but Babel complains about nesting exports, so we attach them\n * to a namespace\n */\n\n// Backbone Decorators\n\n// Views\n\nexport function on(eventName) {\n    return function(target, name, descriptor) {\n        if (target.events && !_.has(target, 'events')) {\n            target.events = _.clone(target.events)\n        }\n        if (!target.events) {\n            target.events = {};\n        }\n        if (_.isFunction(target.events)) {\n            throw new Error('The on decorator is not compatible with an events method');\n            return;\n        }\n        if (!eventName) {\n            throw new Error('The on decorator requires an eventName argument');\n        }\n        target.events[eventName] = name;\n        return descriptor;\n    };\n}\n\nexport function tagName(value) {\n    return function decorator(target) {\n        target.prototype.tagName = value;\n    };\n}\n\n//Collections\n\nexport function model(modelClass) {\n    return function decorator(target) {\n        if (modelClass.prototype instanceof Backbone.Model) {\n            target.prototype.model = modelClass;\n        } else {\n            throw new Error('The model decorator takes either a single argument that should be an instance of Backbone.Model');\n        }\n    };\n}\n\nexport function comparator(comparatorString) {\n    return function decorator(target) {\n        if (_.isString(comparatorString)) {\n            target.prototype.comparator = comparatorString;\n        } else {\n            throw new Error('The comparator decorator takes either a single argument that should be a string');\n        }\n    };\n}\n\n//Models\n\nexport function defaults(...args) {\n    return function decorator(target) {\n        let defaults = target.prototype.defaults || {};\n        let [key, value] = args;\n        if (_.isObject(key)) {\n            _.extend(defaults, key);\n        } else if (_.isString(key) && !_.isUndefined(value)) {\n            defaults[key] = value;\n        } else {\n            throw new Error('The defaults decorator takes either a single object as an argument or a key and value');\n        }\n        target.prototype.defaults = defaults;\n    };\n}\n\n//Router\n\nexport function route(routeName) {\n    return function(target, name, descriptor) {\n        if (!target.routes) {\n            target.routes = {};\n        }\n        if (_.isFunction(target.routes)) {\n            throw new Error('The route decorator is not compatible with a route method');\n            return;\n        }\n        if (!routeName) {\n            throw new Error('The route decorator requires an route string argument');\n        }\n        target.routes[routeName] = name;\n        return descriptor;\n    };\n}\n\n// Marionette Decorators\n\n// Views\n\nexport function onModel(eventName) {\n    return function(target, name, descriptor) {\n        if (!target.modelEvents) {\n            target.modelEvents = {};\n        }\n        if (_.isFunction(target.modelEvents)) {\n            throw new Error('The onModel decorator is not compatible with a modelEvents method');\n            return;\n        }\n        if (!eventName) {\n            throw new Error('The onModel decorator requires an eventName argument');\n        }\n        target.modelEvents[eventName] = name;\n        return descriptor;\n    };\n}\n\nexport function onCollection(eventName) {\n    return function(target, name, descriptor) {\n        if (!target.collectionEvents) {\n            target.collectionEvents = {};\n        }\n        if (_.isFunction(target.collectionEvents)) {\n            throw new Error('The onCollection decorator is not compatible with a collectionEvents method');\n            return;\n        }\n        if (!eventName) {\n            throw new Error('The onCollection decorator requires an eventName argument');\n        }\n        target.collectionEvents[eventName] = name;\n        return descriptor;\n    };\n}\n\nexport function template(value) {\n    return function decorator(target) {\n        target.prototype.template = value;\n    };\n}\n\nexport function childView(value) {\n    return function decorator(target) {\n        target.prototype.childView = value;\n    };\n}\n\nexport function childViewContainer(value) {\n    return function decorator(target) {\n        target.prototype.childViewContainer = value;\n    };\n}\n\nexport function ui(...args) {\n    return function decorator(target) {\n        let ui = target.prototype.ui || {};\n        let [key, value] = args;\n        if (_.isObject(key)) {\n            _.extend(ui, args[0]);\n        } else if (_.isString(key) && _.isString(value)) {\n            ui[key] = value;\n        } else {\n            throw new Error('The ui decorator takes either a single object as an argument or a key and value string');\n        }\n        target.prototype.ui = ui;\n    };\n}\n\n// Utility Decorators\n\nexport function useSuper(target, name, descriptor) {\n    let superMethod = Object.getPrototypeOf(target)[name];\n    if (_.isFunction(superMethod)) {\n        descriptor.value = function(...args) {\n            superMethod.apply(this, args);\n        };\n    } else {\n        throw new Error('The useSuper method requires the parent class to implement this function somewhere on its prototype chain');\n    }\n    return descriptor;\n}\n\n//Backbone.LocalStorage Decorators\n\nexport function localStorage(storageKey) {\n    return function decorator(target) {\n        if (Backbone.LocalStorage) {\n            if (_.isString(storageKey)) {\n                target.prototype.localStorage = new Backbone.LocalStorage(storageKey);\n            } else {\n                throw new Error('The localStorage decorator requires a single string argument which will serve as the localStorage key');\n            }\n        } else {\n            throw new Error('The localStorage decorator requires Backbone.LocalStorage to have been loaded before use');\n        }\n    };\n}\n\n//Marionette-service Decorators\n\nexport function replyRadio(channel, requestString) {\n    return function(target, name, descriptor) {\n        if (!target.radioRequests) {\n            target.radioRequests = {};\n        }\n        if (_.isFunction(target.radioRequests)) {\n            throw new Error('The replyRadio decorator is not compatible with a radioRequests method');\n            return;\n        }\n        if (!_.isString(channel) || !_.isString(requestString)) {\n            throw new Error('The replyRadio decorator requires 2 arguments, a channel and a request string.');\n        }\n        target.radioRequests[channel + ' ' + requestString] = name;\n        return descriptor;\n    };\n}\n"],"sourceRoot":"/source/"}